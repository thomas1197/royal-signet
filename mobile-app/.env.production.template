# Production Environment Variables for Royal Signet Church App
# Copy this file to .env.production and fill in with PRODUCTION values
# IMPORTANT: Use LIVE/PRODUCTION keys, not TEST keys!

# ============================================================================
# Firebase Production Configuration
# ============================================================================
# Get from: Firebase Console → Project Settings → General → Your apps
# IMPORTANT: These must be NEW keys (rotate from development keys)

FIREBASE_API_KEY=your_production_firebase_api_key_here
FIREBASE_AUTH_DOMAIN=royal-signet.firebaseapp.com
FIREBASE_PROJECT_ID=royal-signet
FIREBASE_STORAGE_BUCKET=royal-signet.firebasestorage.app
FIREBASE_MESSAGING_SENDER_ID=656388512652
FIREBASE_APP_ID=your_production_firebase_app_id_here
FIREBASE_MEASUREMENT_ID=your_production_measurement_id_here

# ============================================================================
# Google OAuth Production Configuration
# ============================================================================
# Get from: Google Cloud Console → APIs & Credentials → OAuth 2.0 Client IDs
# IMPORTANT: Create NEW OAuth clients for production

# Web Client ID (for Expo/general use)
GOOGLE_WEB_CLIENT_ID=your_production_google_web_client_id.apps.googleusercontent.com

# iOS Client ID (for native iOS builds)
GOOGLE_IOS_CLIENT_ID=your_production_google_ios_client_id.apps.googleusercontent.com

# Android Client ID (for native Android builds)
GOOGLE_ANDROID_CLIENT_ID=your_production_google_android_client_id.apps.googleusercontent.com

# ============================================================================
# Stripe Production Configuration
# ============================================================================
# Get from: https://dashboard.stripe.com/apikeys
# IMPORTANT: Use LIVE keys (pk_live_...), NOT test keys!
# NEVER commit the secret key to git - it's configured in Firebase Functions

# Publishable Key (safe to use in mobile app)
STRIPE_PUBLISHABLE_KEY=pk_live_your_production_stripe_publishable_key_here

# NOTE: The Stripe Secret Key is NOT stored here!
# Configure it in Firebase Functions using:
# firebase functions:config:set stripe.secret_key="sk_live_YOUR_LIVE_SECRET_KEY"

# ============================================================================
# Firebase App Check Production Configuration
# ============================================================================
# Get from: https://www.google.com/recaptcha/admin
# Create a NEW reCAPTCHA v3 site for production domain

EXPO_PUBLIC_RECAPTCHA_SITE_KEY=your_production_recaptcha_v3_site_key_here

# ============================================================================
# App Configuration
# ============================================================================
APP_ENV=production

# ============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================================================
# Before deploying to production:
#
# [ ] All keys above are PRODUCTION keys (not development/test keys)
# [ ] Google OAuth clients configured for production bundle IDs:
#     - iOS: com.royalsignet.church
#     - Android: com.royalsignet.church
# [ ] Stripe switched from test mode to live mode
# [ ] Stripe webhook configured for production Cloud Function URL
# [ ] Firebase App Check enabled with production reCAPTCHA
# [ ] SendGrid sender domain verified (not just email)
# [ ] Firebase budget alerts set ($25/month recommended)
# [ ] This file is in .gitignore (NEVER commit to git!)
# [ ] Old development keys rotated/deleted
# [ ] Firestore security rules deployed
# [ ] Firebase Functions deployed with production config
#
# ============================================================================
# STRIPE PRODUCTION SETUP
# ============================================================================
# 1. Complete Stripe business verification
# 2. Switch dashboard from "Test Mode" to "Live Mode"
# 3. Copy LIVE publishable key (pk_live_...) to STRIPE_PUBLISHABLE_KEY above
# 4. Configure Firebase Functions with LIVE secret key:
#    firebase functions:config:set stripe.secret_key="sk_live_YOUR_KEY"
# 5. Update Stripe webhook to production Cloud Function URL
# 6. Get NEW webhook secret and update Firebase Functions:
#    firebase functions:config:set stripe.webhook_secret="whsec_YOUR_NEW_SECRET"
# 7. Enable 3D Secure (SCA) in Stripe settings for EU compliance
#
# ============================================================================
# SENDGRID PRODUCTION SETUP
# ============================================================================
# 1. Verify sender DOMAIN (not just email) in SendGrid:
#    Settings → Sender Authentication → Domain Authentication
# 2. Add DNS records to your domain registrar
# 3. Update Firebase Functions config (if using new API key):
#    firebase functions:config:set sendgrid.key="SG.YOUR_PRODUCTION_KEY"
#
# ============================================================================
# FIREBASE PRODUCTION SETUP
# ============================================================================
# 1. Go to Firebase Console → Project Settings
# 2. Rotate API Key:
#    - Delete old development key
#    - Create new production key
#    - Update FIREBASE_API_KEY above
# 3. Enable App Check:
#    - Build → App Check → Register app
#    - Select reCAPTCHA v3 for web
#    - Select App Attest for iOS
#    - Select Play Integrity for Android
# 4. Set budget alerts:
#    - Firebase Console → Usage and Billing → Details & Settings
#    - Set budget alert at $25/month (recommended)
# 5. Deploy production security rules:
#    firebase deploy --only firestore:rules
#
# ============================================================================
# GOOGLE OAUTH PRODUCTION SETUP
# ============================================================================
# 1. Go to Google Cloud Console → APIs & Credentials
# 2. Create NEW OAuth 2.0 Client IDs for production:
#    a) Web Client:
#       - Authorized JavaScript origins: https://royalsignet.church
#       - Authorized redirect URIs: https://auth.expo.io/@your-username/royal-signet-church
#    b) iOS Client:
#       - Bundle ID: com.royalsignet.church
#    c) Android Client:
#       - Package name: com.royalsignet.church
#       - SHA-1 certificate fingerprint: (get from EAS Build)
# 3. Copy client IDs to the variables above
# 4. Update mobile app .env.production file
#
# ============================================================================
# SECURITY NOTES
# ============================================================================
# - This file should be stored SECURELY (password manager, encrypted storage)
# - Never commit this file to git (it's in .gitignore)
# - Only share with authorized team members
# - Use different keys for development, staging, and production
# - Rotate keys immediately if compromised
# - Test all features after switching to production keys
#
# ============================================================================
# TESTING PRODUCTION ENVIRONMENT
# ============================================================================
# Before going live:
# 1. Build with production config: eas build --profile production
# 2. Install on test devices
# 3. Test complete donation flow with REAL small donation ($1)
# 4. Verify email receipts are sent
# 5. Check Stripe dashboard for donation
# 6. Check Firebase Console for donation record
# 7. Test all authentication flows
# 8. Test all app features end-to-end
#
# ============================================================================
